{% extends 'GarlicBlogAppBundle::layout.html.twig' %}

{% block content %}
    <div class="row-fluid">
    
        <div class="col-md-9" id="article_content">
            <ul class="list-group">
                <li class="list-group-item list_article" 
                        id = {{"article_" ~ article.id}} 
                        data-article-id = {{ article.id }}
                        data-author-id = {{ article.authorid }}
                        {% if userId is defined %}
                            data-user-id = {{ userId }}
                        {% endif %}
                >
                    
                    <div class="row">
                        <div class="col-md-2">
                            <div class="row-fluid">
                                {% if article.author_avatar is defined and article.author_avatar is not empty %}
                                    <img src={{ asset('avatars/' ~ article.author_avatar) }} style="width:64px;height:64px"/>
                                {% else %}
                                    <img src={{ asset('avatars/' ~ default_avatar) }} style="width:64px;height:64px"/>
                                {% endif %}
                            </div>
                        </div>
                        <div class="col-md-8">
                            <div class='row'>
                                <b>{{ article.username }}</b>
                            </div>
                            <div class='row'>
                                <p>Posted {{ article.posttime | date('Y-m-d H:i:s') }}</p>
                            </div>
                        </div>
                        <div class="col-md-2">
                            {% if userId is defined and article.authorid == userId %}
                                <div class="pull-right icon_delete">
                                    <span class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span>
                                </div>
                            {% elseif favorites is defined and article.id in favorites %}
                                <div class="pull-right">
                                    <span class="glyphicon glyphicon-star icon_favorite" aria-hidden="true"></span>
                                </div>
                            {% else %}
                                <div class="pull-right">
                                    <span class="glyphicon glyphicon-star-empty icon_favorite" aria-hidden="true"></span>
                                </div>
                            {% endif %}
                        </div>
                    </div>
                    
                    <br>
                    <div class="row-fluid">
                            <h2 class="list-group-item-heading">{{ article.title }}</h2>
                            <div class="pull-right">
                                <span class="glyphicon glyphicon-thumbs-up" aria-hidden="true"></span>
                                <span id="glyphicon_message">{{ article.likenum }}</span>
                            </div>
                            <div class="pull-right">
                                <span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span>
                                <span id="glyphicon_message">{{ article.readnum }}</span>
                            </div>
                    </div>
                    <div class="content-divider"></div>
                    <br>
                    <div class="row-fluid">
                        <p class="list-group-item-text" style="word-wrap: break-word;">{{ article.content }}</p>
                    </div>
                    <br>
                    <div class="content-divider"></div>
                    <div class="comments">
                        <div class="row">
                            <div class="col-md-2">
                                <img src="https://img3.doubanio.com/icon/u3527682-3.jpg"/>
                            </div>
                            <div class="col-md-10">
                                <h5 class="list-group-item-heading">comments title</h5>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-2">
                                
                            </div>
                            <div class="col-md-10">
                                <p> something </p>
                            </div>
                            
                        </div>
                    <div>
                    <div class="content-divider"></div>
                    <div class="row">
                        <div class="col-md-3">
                            <p>
                                <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                                <span id="post_message">Comment</span>
                            </p>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
        
        <div class="col-md-3" id="article_right_panel">
            <div class="panel panel-default">
              <div class="panel-heading">
                <h3 class="panel-title">Related Article: <span class="badge" style="float:right;">14</span></h3>
              </div>
              <div class="panel-body">
                Panel content
              </div>
              <div class="panel-heading">
                <h3 class="panel-title">People also looking: <span class="badge" style="float:right;">14</span></h3>
              </div>
              <div class="panel-body">
                Panel content
              </div>
            </div>
        </div>
        
        
    </div>
{% endblock %}